<html ng-app="app">
	<head>
		<title>基于Angular.js的Cnodejs社区webapp</title>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
		<meta content="yes" name="apple-mobile-web-app-capable">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta content="black" name="apple-mobile-web-app-status-bar-style">
		<meta name="format-detection" content="telephone=no">
		<link rel="stylesheet" type="text/css" href="./src/css/frozen.css">		
		<link rel="stylesheet" type="text/css" href="./src/css/github-markdown.css">
		<script src="./src/js/zepto.min.js"></script>
		<script src="./src/js/angular.min.js"></script>
		<script src="./src/js/angular-route.min.js"></script>
		<script src="./src/js/highlight.pack.js"></script>
		<script src="./src/js/index.js"></script>
		<script src="./src/js/frozen.js"></script>		
	</head>
	<body>
		<div id="app">
			<header class="ui-header ui-header-positive ui-border-b" ng-controller="IndexController">			
				<i class="ui-icon-return" onclick="history.back()"></i>
				<h1>cnodejs</h1>
				<button class="ui-btn" ng-click="toAbout()">关于</button>
			</header>		
			<section class="ui-container" ng-view></section>
			<div class="go_top" onclick="javascript:scroll(0,0)" style="width: 40px;height: 40px;background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxNjI0OTkwYi0yYWNmLTQxZmMtYTQ2Ny05NjUzNmQwMjEwNWUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzNBNjYzODRFMjdEMTFFNUJDRURCN0M3NDE5NkQ2QjciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzNBNjYzODNFMjdEMTFFNUJDRURCN0M3NDE5NkQ2QjciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NzJlNDkzYi0zMjUwLTQzMTYtOWFhYS1mMjllNmY0OWFkOTEiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3Zjg5OGIxMS0yYTYyLTExNzktOTBm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') center center no-repeat;background-size: 40px 40px;right: .1rem;bottom: 2rem;z-index: 100;position: fixed;box-sizing: border-box;"></div>
			<!-- 首页列表 -->
			<script type="text/ng-template" id="index.html">				
				<section class="ui-container">				
					<ul class="ui-list ui-list-link ui-border-tb ui-list-active">
						<li class="ui-border-t" ng-click="toTopic(list.id)" ng-repeat="list in lists">
							<div class="ui-avatar">
								<span style="background-image:url({{list.author.avatar_url}})"></span>
							</div>
							<div class="ui-list-info">
								<h4 class="ui-nowrap">{{list.title}}</h4>
								<p>
									<span ng-if="list.top" class="ui-badge">置顶</span>
									<span ng-if="list.good" class="ui-badge">精华</span>
									<span class="ui-badge-muted">{{list.reply_count}}/{{list.visit_count}}</span>
								</p>
								<p>								
									<span>{{list.author.loginname}}</span>
									<span class="date" ng-bind="list.valueOf().last_reply_at | date:'short'"></span>
								</p>
							</div>
						</li>
						
					</ul>
				</section>
			</script>
			<!-- 内容页 -->
			<script type="text/ng-template" id="topic.html">
				<section class="ui-container">
					<ul class="ui-list ui-border-tb ui-list-active">
						<li class="ui-border-t">
							<div class="ui-avatar" ng-click="toUser(contents.author.loginname)">
								<span style="background-image:url({{contents.author.avatar_url}})"></span>
							</div>
							<div class="ui-list-info">
								<h4 class="ui-nowrap">{{contents.title}}</h4>
								<p>
									<span ng-if="contents.top" class="ui-badge">置顶</span>
									<span ng-if="contents.good" class="ui-badge">精华</span>
									<span class="ui-badge-muted">{{contents.reply_count}}/{{contents.visit_count}}</span>
								</p>
								<p>								
									<span>{{contents.author.loginname}}</span>
									<span class="date" ng-bind="contents.valueOf().last_reply_at | date:'short'"></span>
								</p>
							</div>
						</li>
						<section id="panel">
							<section ng-bind-html="trustAsHtml(contents.content)" class="markdown-body"></section>
							<ul class="ui-list ui-list-link ui-border-tb">
								<li class="ui-border-t" ng-repeat="replie in contents.replies">
									<div class="ui-list-icon" ng-click="toUser(replie.author.loginname)">
										<span style="background-image:url({{replie.author.avatar_url}}})"></span>
									</div>
									<div class="ui-list-info">
										<h5>
											<span ng-bind="replie.author.loginname"></span>
											<span class="date" ng-bind="replie.valueOf().creat_at | date:'short'"></span>
										</h5>
										<h4 ng-bind-html="trustAsHtml(replie.content)"></h4>
									</div>
									
								</li>		                    
							</ul>
						</section>
					</ul>				
				</section>
			</script>
			<!-- 个人页 -->
			<script type="text/ng-template" id="user.html">
					<section id="panel">						
			            <section class="ui-container ui-center">
			                <div class="ui-avatar-one"><span style="background-image:url({{user.avatar_url}})"></span></div>
			                <span>{{user.loginname}}</span>
			                <ul class="ui-tiled">
			                    <li><div>加入时间</div><i ng-bind="user.valueOf().create_at | date:'yyyy-MM-dd'"></i></li>
			                    <li><div>积分</div><i>2</i></li>
			                </ul>
			            </section>
						<div class="ui-tab">
						    <ul class="ui-tab-nav ui-border-b">
						        <li >最近回复</li>
						        <li>最新发布</li>
						    </ul>
						    <ul class="ui-tab-content" style="width: 200%; transition-property: transform; transition-timing-function: cubic-bezier(0.1, 0.57, 0.1, 1); transition-duration: 0ms; transform: translate(-320px, 0px) translateZ(0px);">
						        <li style="height: auto;">
									<ul class="ui-list ui-list-link ui-border-tb ui-list-active">
										<li class="ui-border-t" ng-repeat="recent_replie in user.recent_replies" ng-click="toTopic(recent_replie.id)">
											<div class="ui-avatar">
												<span style="background-image:url({{recent_replie.author.avatar_url}})"></span>
											</div>
											<div class="ui-list-info">
												<h4 class="ui-nowrap">{{recent_replie.title}}</h4>
												<p>								
													<span>{{recent_replie.author.loginname}}</span>
													<span class="date" ng-bind="recent_replie.valueOf().last_reply_at | date:'short'"></span>
												</p>
											</div>
										</li>
									</ul>
						        </li>
						        <li style="height: auto;">
									<ul class="ui-list ui-list-link ui-border-tb ui-list-active">
										<li class="ui-border-t" ng-repeat="recent_topic in user.recent_topics" ng-click="toTopic(recent_topic.id)">
											<div class="ui-avatar">
												<span style="background-image:url({{recent_topic.author.avatar_url}})"></span>
											</div>
											<div class="ui-list-info">
												<h4 class="ui-nowrap">{{recent_topic.title}}</h4>
												<p>								
													<span>{{recent_topic.author.loginname}}</span>
													<span class="date" ng-bind="recent_topic.valueOf().last_reply_at | date:'short'"></span>
												</p>
											</div>
										</li>
									</ul>
						        </li>
						    </ul>
						</div>						
					</section>
					<script type="text/javascript">
					$(document).ready(function(){ 
						var userName="xiaoming";
						alert(userName); 
					});
					</script> 
			</script>
			<!-- 关于页 -->
			<script type="text/ng-template" id="about.html">
				<ul class="ui-list ui-list-pure ui-border-tb">
	                <li class="ui-border-t">
	                    <p><h1>关于项目</h1></p>
	                    <h4>该项目是基于Cnodejs的api，采用angular.js重写的webapp</h4>
	                </li>
	                <li class="ui-border-t">
	                    <p><h1>源码地址</h1></p>
	                    <h4><a href="https://github.com/junhey/Angular-Cnodejs">https://github.com/junhey/Angular-Cnodejs</a></h4>
	                </li>
	                <li class="ui-border-t">
	                    <p><h1>意见反馈</h1></p>
	                    <h4><a href="https://github.com/junhey/Angular-Cnodejs/issues/1">发表意见和需求</a></h4>
	                </li>
	                <li class="ui-border-t">
	                    <p><h1>版本更新</h1></p>
	                    <h4><a href="https://github.com/junhey/Angular-Cnodejs/issues/3">查看版本更新</a></h4>
	                </li>
	            </ul>
			</script>
		</div>		
	</body>
</html>